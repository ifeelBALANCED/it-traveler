commit-msg:
  commands:
    "lint commit message":
      run: bunx --no-install commitlint --edit {1}

pre-commit:
  commands:
    lint:
      run: bunx lint-staged
      stage_fixed: true

post-merge:
  commands:
    "check dependencies":
      run: |
        # Check if the bun.lock file changed between the previous and current HEAD.
        if git diff --name-only HEAD@{1} HEAD | grep -E 'bun.lock'; then
          echo "Detected changes in dependencies, running bun install..."
          bun install
        else
          echo "No dependency changes detected, skipping bun install."
        fi
